<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <title>sticky javascript: Блок приклеивается во время прокрутки страницы. Но перед футером останавливается</title>
    <style>

    </style>
</head>

<body>
<div class="sticky-block">
    <div class="inner">
        Здесь вставляем тот код, который должен двигаться.
    </div>
    <div class="">
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aliquam consectetur, consequuntur deleniti dolores
        error esse nam, nemo neque nihil, nisi quas recusandae rerum veniam. Animi deserunt, dicta, eius eligendi error
        facilis fuga incidunt ipsam labore laborum modi nisi obcaecati officiis perferendis perspiciatis qui repudiandae
        veniam? Doloremque eaque enim esse mollitia qui quia ratione totam ullam unde vel. Architecto, deleniti eos
        fugiat hic pariatur porro qui quod sequi suscipit totam? Alias aliquid consequuntur doloremque dolorum,
        excepturi incidunt itaque iure laboriosam maxime nam odio provident, quas quidem recusandae repellat saepe sit
        suscipit ullam, voluptate voluptates! Accusamus commodi eligendi et in neque sunt, voluptas voluptate. Dolor
        earum, odit. Alias aut cum cumque deleniti dolore dolores ducimus error excepturi, fuga harum impedit inventore
        itaque mollitia nihil non officia omnis placeat provident quisquam quo reiciendis similique soluta voluptatibus.
        Adipisci aliquid asperiores at atque, consequatur dicta, ducimus exercitationem id illum itaque iure libero
        minima molestiae, odio optio quam saepe sequi sint tempora temporibus! Aut, consequuntur eum ipsa optio quidem
        quos similique voluptates! Architecto aspernatur aut dolorem ea harum illum ipsum itaque laborum magnam minus
        modi nisi, porro quaerat quia saepe voluptatem voluptatibus? Commodi consequatur doloremque eveniet fugiat illum
        iusto officiis, praesentium recusandae tenetur veniam? Adipisci aspernatur consectetur deserunt dignissimos
        eligendi eos est et excepturi illum in itaque iusto libero, magni maiores minima molestiae nemo odio, omnis
        quaerat, reprehenderit tempora tempore unde vel! Consectetur dicta hic nemo nobis numquam officia omnis
        perferendis quidem saepe tenetur. Corporis officiis saepe tempore. Aspernatur aut beatae deleniti fugiat id
        impedit inventore labore laborum maiores natus, neque nostrum obcaecati odit quaerat quasi, quidem quis
        recusandae rerum sed suscipit? Autem excepturi libero, minus neque nobis nulla numquam sed temporibus veritatis
        voluptatibus? At beatae blanditiis commodi cumque distinctio dolore dolores, dolorum facilis inventore, iste
        iure nemo officia possimus quisquam rerum sapiente tempora vel veritatis vero voluptate. Ab accusamus, animi at
        beatae consequatur deserunt earum eius et id in ipsum laborum laudantium nobis omnis pariatur perspiciatis
        possimus praesentium quae quas quasi reiciendis repellendus reprehenderit rerum sunt suscipit. Accusamus,
        blanditiis dolorum earum eius esse excepturi labore, laudantium maiores praesentium quia quos voluptatibus.
        Alias aspernatur atque consequatur corporis cum dicta dolore doloremque dolorum eaque earum esse est ex
        exercitationem expedita minima modi praesentium quaerat quas quos reprehenderit sapiente sint tenetur unde
        veritatis, voluptas voluptate voluptatibus voluptatum. Aut delectus fugit id, illum odio quis sapiente tenetur?
        Adipisci, aliquid ea error esse hic quidem sunt tempore. Accusantium aspernatur atque blanditiis corporis,
        dolore dolorum ducimus eius eos et eum eveniet excepturi facere hic illo impedit, iusto labore libero magnam
        magni minima nobis non odio officiis perferendis praesentium quis quisquam quos rem reprehenderit rerum soluta
        sunt, suscipit totam unde ut voluptates voluptatibus. Ad, adipisci aliquid, aperiam corporis, delectus dolore
        doloremque expedita inventore perspiciatis provident quia sed temporibus voluptatem! Amet assumenda autem
        blanditiis cumque, doloremque eos eum facilis impedit labore, magnam mollitia nostrum officiis provident. A
        adipisci amet consequatur, cum dolor facilis fugit id iusto modi nostrum odio odit officiis perferendis
        praesentium quae quasi qui sapiente temporibus velit voluptatibus. Aliquam asperiores consequatur corporis
        deleniti, eos exercitationem fugiat in ipsa iste nihil nisi, non quam, quasi quibusdam quis reprehenderit vitae
        voluptates! Ad, aliquid aut commodi deleniti exercitationem explicabo nostrum! Accusantium aliquam aliquid
        aperiam architecto aspernatur, at aut corporis cupiditate deserunt dolorum earum eius ex expedita facere ipsum
        magni maiores mollitia necessitatibus nisi, nostrum provident quia quidem quo similique unde voluptate
        voluptates voluptatum! Debitis doloremque doloribus itaque nesciunt provident repellendus sint. Architecto at,
        delectus deleniti distinctio ea et exercitationem iure, minus nesciunt officia, porro quasi sapiente tenetur
        unde voluptatum. Ab adipisci corporis earum eos expedita harum illum laudantium nisi nulla obcaecati quam,
        quidem tempore ullam. Dolores error esse eum fugit molestiae nesciunt, numquam odit perspiciatis possimus quae
        quam quasi quibusdam sed similique suscipit tenetur vero. Beatae dignissimos ducimus eaque error esse est eum id
        itaque labore nostrum, officiis perferendis porro quae quam quis saepe unde ut. Ad alias architecto consequuntur
        debitis deleniti deserunt distinctio ducimus est et eum harum illum impedit incidunt ipsum, itaque magni minima
        nam necessitatibus nesciunt nihil nobis odit officia officiis quae quasi qui quo recusandae sed sequi sit soluta
        sunt suscipit temporibus ut voluptate voluptatem voluptatibus? Accusamus ad alias at earum ex excepturi,
        explicabo facere laudantium molestias, neque quae quia reprehenderit similique voluptas voluptatem. Autem
        dolorem doloremque nulla officiis quas! Ab alias, animi blanditiis debitis exercitationem id illo nemo, non
        obcaecati officia possimus quidem recusandae, reiciendis soluta suscipit? Alias architecto, fuga in ipsa iure
        nam nemo nobis numquam omnis optio quae, reiciendis suscipit tempore temporibus velit. Accusamus at aut
        dignissimos eius illum iusto libero, magni molestias non perspiciatis provident ratione reiciendis sapiente
        sequi soluta tempora veniam, veritatis voluptatem. Corporis culpa debitis fuga harum, illo, labore omnis
        possimus rem rerum sequi voluptas voluptatem. Amet asperiores, autem cum deserunt, doloribus eum ex expedita,
        harum id in ipsa libero minus modi officiis qui quisquam recusandae sint voluptate. Dolorum omnis sequi vel?
        Aliquid deserunt expedita, iste laudantium natus neque odit praesentium quia quisquam repellendus repudiandae
        sapiente sint suscipit ullam vitae. Ab accusamus ad adipisci deleniti dignissimos eaque est et facere laudantium
        maxime perferendis quaerat quidem, reprehenderit sint, unde? Blanditiis consequuntur culpa deleniti, dolore
        ducimus eaque error eum excepturi fugiat hic ipsum minima nam porro possimus quaerat qui quia recusandae
        temporibus totam, voluptas. A alias aliquid animi asperiores aspernatur at beatae delectus dolores, esse ex
        excepturi fugiat harum, hic in ipsa laborum laudantium modi molestiae nisi numquam optio possimus quod quos
        reiciendis sequi similique soluta tempore ullam ut veniam? Accusamus adipisci aliquam aut dignissimos doloribus
        ea eius eligendi facilis, hic, inventore libero magnam minus molestiae necessitatibus nemo neque, officiis quae
        reiciendis repellendus repudiandae sequi temporibus vero voluptatem. Dolorum nisi quaerat quibusdam! Amet animi
        assumenda corporis cupiditate dicta dolor, doloremque eligendi et eveniet ex fuga fugit hic impedit itaque
        labore nostrum nulla officiis omnis provident quis, quos recusandae rem sint suscipit temporibus ut vitae? A
        aliquam cupiditate dignissimos minus nemo temporibus. Ab aliquid autem debitis neque sapiente voluptatum? Ab ad
        atque blanditiis impedit quod. Dicta dignissimos dolore error fugit ipsam molestiae quisquam sequi similique
        voluptatem voluptates?
    </div>
</div>

<script type="text/javascript" src="js/jquery-3.4.1.min.js"></script>
<script>
    $(window).scroll(function () {
        var sb_m = 20; /* отступ сверху и снизу */
        var mb = 300; /* высота подвала с запасом */
        var st = $(window).scrollTop();
        var sb = $(".sticky-block");
        var sbi = $(".sticky-block .inner");
        var sb_ot = sb.offset().top;
        var sbi_ot = sbi.offset().top;
        var sb_h = sb.height();

        if (sb_h + $(document).scrollTop() + sb_m + mb < $(document).height()) {
            if (st > sb_ot) {
                var h = Math.round(st - sb_ot) + sb_m;
                sb.css({"paddingTop": h});
            } else {
                sb.css({"paddingTop": 0});
            }
        }
    });

</script>
</body>
</html>